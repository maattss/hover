
fragment listUserFragment on users {
  id
  name
  picture
}

fragment basicUserFragment on users {
  ...listUserFragment
  email
  bio
}

fragment userFragment on users {
  ...basicUserFragment
  followers {
    follower {
      ...basicUserFragment
    }
  }
  followers_aggregate {
    aggregate {
      count(distinct: true, columns: user_id)
    }
  }
  following {
    user {
      ...basicUserFragment
    }
  }
  activities {
    ...activityFragment
  }
}

fragment basicActivityFragment on activities {
  activity_id
  caption
  duration
  geofence_id
  score
  started_at
  stopped_at
}

fragment activityFragment on activities {
  activity_id
  caption
  created_at
  geofence {
    ...geofenceFragment
  }
}

fragment commentFragment on comments {
  comment_id
  activity_id
  content
  user {
    ...basicUserFragment
  }
}

fragment geofenceFragment on geofences {
  id
  name
  category
  coordinates
  description
  latitude
  longitude
  radius
  variant
}

fragment challengeFragment on challenge {
  id
  challenge_type
  created_at
  created_by_user {
    ...basicUserFragment
  }
  start_date
  end_date
  state
  rules
}

fragment achievementFragment on achievement {
  id
  description
  name
  achievement_type
  level
  created_at
  rule
}

fragment opponentFragment on challenge_participant {
  user {
    id
    name
    picture
  }
  state
}

fragment challengeTypeFragment on challenge_type {
  name
  description
}

fragment activityFeedFragment on feed {
  id
  user {
    ...basicUserFragment
  }
  activity {
    ...basicActivityFragment
  }
  created_at
}

fragment achievementFeedFragment on feed {
  id
  user {
    ...basicUserFragment
  }
  user_achievement {
    achievement {
      ...achievementFragment
    }
  }
  created_at
}

fragment fullFeedFragment on feed {
  id
  user {
    ...basicUserFragment
  }
  activity_id
  activity {
    ...basicActivityFragment
  }
  achievement_id
  user_achievement {
    achievement {
      ...achievementFragment
    }
  }
  created_at
}
