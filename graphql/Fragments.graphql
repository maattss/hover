fragment basicUserFragment on users {
  id
  email
  name
  bio
}

fragment userFragment on users {
  ...basicUserFragment
  created_at
  updated_at
  followers {
    follower {
      ...basicUserFragment
    }
  }
  followers_aggregate {
    aggregate {
      count(distinct: true, columns: user_id)
    }
  }
  following {
    user {
      ...basicUserFragment
    }
  }
  following_aggregate {
    aggregate {
      count(distinct: true, columns: user_id)
    }
  }
  activities {
    ...activityFragment
  }
}

fragment activityFragment on activities {
  activity_id
  category
  caption
  comments {
    ...commentFragment
  }
  geofence {
    ...geofenceFragment
  }
  created_at
  updated_at
}

fragment commentFragment on comments {
  comment_id
  activity_id
  content
  user {
    ...basicUserFragment
  }
  created_at
  updated_at
}

fragment geofenceFragment on geofences {
  id
  name
  category
  coordinates
  description
  latitude
  longitude
  radius
  variant
  created_at
  updated_at
}
